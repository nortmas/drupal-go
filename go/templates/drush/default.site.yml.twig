# See https://github.com/drush-ops/drush/blob/master/examples/example.site.yml
{% set first_domain = project_machine_name %}
{% if multisite is not empty %}
  {% for key, value in multisite|slice(0,1) %}
      {% set first_domain = key %}
  {% endfor %}
{% endif %}

self:
  root: '/var/www/html/web'
  uri: '{{ first_domain }}.docker.localhost'

dev:
  host: '{{ server.host }}'
  user: '{{ server.user }}'
  root: '/var/www/html/web'
  uri: '{{ first_domain }}.dev.{{ server.domain }}'
  paths:
    drush-script: '/home/{{ server.user }}/{{ server.project_dir }}/{{ server.project_dir }}-dev/drush/drush-run.sh'

dev-files:
  host: '{{ server.host }}'
  user: '{{ server.user }}'
  root: '/home/{{ server.user }}/{{ server.project_dir }}/{{ server.project_dir }}-dev/web'
  uri: '{{ first_domain }}.dev.{{ server.domain }}'
  paths:
    files: 'sites/default/files'

stage:
  host: '{{ server.host }}'
  user: '{{ server.user }}'
  root: '/var/www/html/web'
  uri: '{{ first_domain }}.stage.{{ server.domain }}'
  paths:
    drush-script: '/home/{{ server.user }}/{{ server.project_dir }}/{{ server.project_dir }}-stage/drush/drush-run.sh'

stage-files:
  host: '{{ server.host }}'
  user: '{{ server.user }}'
  root: '/home/{{ server.user }}/{{ server.project_dir }}/{{ server.project_dir }}-stage/web'
  uri: '{{ first_domain }}.stage.{{ server.domain }}'
  paths:
    files: 'sites/default/files'

prod:
  host: '{{ server.host }}'
  user: '{{ server.user }}'
  root: '/var/www/html/web'
  uri: '{{ first_domain }}.prod.{{ server.domain }}'
  paths:
      drush-script: '/home/{{ server.user }}/{{ server.project_dir }}/{{ server.project_dir }}-master/drush/drush-run.sh'

prod-files:
  host: '{{ server.host }}'
  user: '{{ server.user }}'
  root: '/home/{{ server.user }}/{{ server.project_dir }}/{{ server.project_dir }}-master/web'
  uri: '{{ first_domain }}.prod.{{ server.domain }}'
  paths:
    files: 'sites/default/files'